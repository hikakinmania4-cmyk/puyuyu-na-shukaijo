<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<!-- サイトの基本情報 -->
<title>🥺ぷゆゆな集会場🥺 - ぷゆゆ好きのための匿名掲示板</title>
<meta name="description" content="ぷゆゆ🥺好きがこぞって集まると噂の掲示板" />
<meta name="keywords" content="掲示板,匿名,雑談,趣味,ぷゆゆ" />

<!-- OGPタグ (SNSなどで共有されたときの表示) -->
<meta property="og:title" content="🥺ぷゆゆな集会場🥺" />
<meta property="og:description" content="ぷゆゆ🥺好きがこぞって集まると噂の掲示板" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://hikakinmania4-cmyk.github.io/puyuyu-na-shukaijo/" />
<meta property="og:image" content="https://i.ibb.co/93Stdh8x/96a86591b41f.jpg" />
<meta name="twitter:card" content="summary_large_image" />

<!-- その他のメタタグ -->
<meta name="author" content="puyuyu" />
<meta name="theme-color" content="#1565c0" />

<!-- Firebaseライブラリの読み込み -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<!-- 分離したCSSファイルを読み込む -->
<link rel="stylesheet" href="style.css">

</head>
<body>
  <header>
    <h1>🥺ぷゆゆな集会場🥺</h1>
    <div class="userbox"><span id="userDisplay"></span></div>
    <div class="controls">
      <button id="homeBtn">🏠 ホーム</button>
      <button id="historyBtn">📜 履歴<span id="historyUnreadBadge" class="badge-new" style="display:none;"></span><span id="achievementBadge" class="badge-new" style="display:none; background-color: #1565c0;"></span></button>
      <button id="settingsBtn">⚙️ 設定</button>
      <button id="themeToggleBtn">🌙</button>
      <button id="refreshBtn">🔄 更新</button>
    </div>
  </header>
  <div class="wrap" id="app">
      <!-- 中身は script.js によって動的に生成されます -->
  </div>
  <div id="profileModal" class="modal-overlay"><div class="modal-content"><div class="modal-header"><h2 id="profileName"></h2><button id="closeProfileBtn" class="modal-close-btn">&times;</button></div><div class="modal-body"><p id="profileId"></p><div id="profileControls"></div><h3>この人の投稿</h3><div id="profilePostsList"></div></div></div></div>
  <div id="imageLightbox" class="lightbox-overlay"><div class="lightbox-content"><img id="lightboxImage" src=""><button id="lightboxClose" class="lightbox-close-btn">&times;</button></div></div>
  <div id="voteModal" class="modal-overlay"><div class="modal-content"><div class="modal-header"><h2>アンケート作成</h2><button id="closeVoteModalBtn" class="modal-close-btn">&times;</button></div><div class="modal-body"><h4>投票期限</h4><select id="voteDeadlineSelect" style="width:100%;margin-bottom:12px;"><option value="0">無期限</option><option value="60000">1分</option><option value="180000">3分</option><option value="300000">5分</option><option value="900000">15分</option><option value="1800000">30分</option><option value="3600000">1時間</option><option value="21600000">6時間</option><option value="86400000">1日</option><option value="259200000">3日</option></select><h4>選択肢</h4><div id="voteOptionsContainer"><input type="text" class="vote-option-input" placeholder="選択肢1" style="margin-bottom:8px;"><input type="text" class="vote-option-input" placeholder="選択肢2" style="margin-bottom:8px;"></div><button id="addVoteOptionBtn" class="btn small">選択肢を追加</button><div style="text-align:right; margin-top:16px;"><button id="insertVoteBtn" class="btn">本文に挿入</button></div></div></div></div>
  <div id="anchorModal" class="modal-overlay"><div class="modal-content"><div class="modal-header"><h2>この投稿への返信</h2><button id="closeAnchorModalBtn" class="modal-close-btn">&times;</button></div><div class="modal-body" id="anchorModalBody"></div></div></div>
  
  <div id="drawingModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2>お絵描き</h2>
        <button id="closeDrawingModalBtn" class="modal-close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <canvas id="drawingCanvas" width="480" height="320"></canvas>
        <div class="drawing-controls">
          <label for="bgColorPicker">背景</label>
          <input type="color" id="bgColorPicker" value="#FFFFFF">
          <label for="colorPicker">ペン色</label>
          <input type="color" id="colorPicker" value="#000000">
          <label for="brushSize" style="flex-grow: 1;">太さ: <span id="brushSizeValue">5</span></label>
          <input type="range" id="brushSize" min="1" max="50" value="5" style="flex-grow: 2;">
        </div>
        <div class="drawing-controls" style="margin-top: 16px;">
          <label>ツール:</label>
          <button id="penBtn" class="btn small tool-btn active">ペン</button>
          <button id="markerBtn" class="btn small tool-btn">マーカー</button>
          <button id="sprayBtn" class="btn small tool-btn">スプレー</button>
          <button id="fillBtn" class="btn small tool-btn">塗りつぶし</button>
          <button id="eraserBtn" class="btn small tool-btn">消しゴム</button>
          <div style="margin-left:auto; display:flex; gap: 10px;">
            <button id="undoBtn" class="btn small tool-btn">戻る</button>
            <button id="redoBtn" class="btn small tool-btn">進む</button>
            <button id="clearCanvasBtn" class="btn small warn tool-btn">全消し</button>
          </div>
        </div>
        <div style="text-align:right; margin-top:16px;">
          <button id="insertDrawingBtn" class="btn">投稿に添付</button>
        </div>
      </div>
    </div>
  </div>

  <audio id="notificationSound" src="https://otologic.jp/sounds/se/mp3/single-accent-19.mp3" preload="auto"></audio>

  <!-- 分離したJavaScriptファイルを読み込む -->
  <script src="script.js" defer></script>
  
  <!-- Twitterのスクリプトを読み込む -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</body>
</html>
